# PyQt_Node_Editor

Qt节点编辑器

参考

- [【Youtube】Node Editor Tutorial](https://www.youtube.com/watch?v=YV1mEYd7nyM&list=PLZSNHzwDCOggHLThIbCxUhWTgrKVemZkz)（目前学习进度：P51end/62，跳过：34~39。这里的数字是分p而非章节名））
  不过这个教程使用的是 PyQt，但换成PySide无伤大雅
  作者的网站：https://www.blenderfreak.com/tutorials/node-editor-tutorial-series/

  My Watched Note：

  - 32，不可用action变灰色
  - 52，点击节点高亮 (自动选择) 所有连接边
  - 53，拖拽线方式创建节点（创建节点的三种：右键/拖拽菜单/拖拽线）
  - 54，自动生成文档和使用文档注释，pip install Sphinx
  - 55，提高可复用性和修复bug，版本管理的可视化（Version Control窗口、Event Log窗口）
  - 56，同上
  - 57，同上
  - 58，修复边缘的问题
  - **59，体系结构概述，总结（还分章节了）**
  - **60，教程总结（还分章节了）**
  - 61，添加重路由边的功能（同blender效果）
  - 62，向Socket添加捕捉（同blender效果）
  - 国内观后笔记：https://blog.csdn.net/mahuatengmmp/article/details/118070362

- Qt Example 中有个比较类似的示例，叫 “elasticnodes”，使用的类

  ```c++
  #include <QGraphicsItem>
  #include <QGraphicsView>
  #include <QGraphicsScene>
  #include <QGraphicsSceneMouseEvent>
  #include <QPainter>
  #include <QtMath>
  ```

- github有个https://github.com/paceholder/nodeeditor，但是用了CMake，我不会CMake......跑不起来



教程目录

- Introduction
- Basic elements
- Advanced Features
- Calculator Example

# 目录

# 简概

## 简单使用

### 安装

安装Qt模块

```shell
pip install PyQt5
# 但是不知道为什么提示错误，后来我转install PySide2了，可以下
```

### 可略 - 创建.gitignore文件

创建.gitignore文件

```
.idea
*.pyc
```

### 可略 - 创建一个依赖txt文件

该txt中会自动生成所需要的包

但是话说我都使用了venv虚拟环境了，应该不需要这个东西了吧

```shell
pip freeze > requirements.txt
```

生成

```
PySide2==5.15.2.1
shiboken2==5.15.2.1

```

## PySide使用代码

```c++
import sys
from PySide2.QtWidgets import QApplication, QMainWindow, QPushButton,  QPlainTextEdit

if __name__ == '__main__':
    app = QApplication(sys.argv)

    window = QMainWindow()
    window.resize(500, 400)
    window.move(300, 310)
    window.setWindowTitle('薪资统计')

    textEdit = QPlainTextEdit(window)
    textEdit.setPlaceholderText("请输入薪资表")
    textEdit.move(10, 25)
    textEdit.resize(300, 350)

    button = QPushButton('统计', window)
    button.move(380, 80)

    window.show()

    sys.exit(app.exec_())

```

## 项目核心原理与核心类

### 核心类与类设计

- [Graphics View Examples](doc.qt.io/qt-5/examples-graphicsview.html)
- Node ~ GrNode
  - input
  - ouput
- Sockct
  - Edge ~ GrEdge
- Scene
  - addNode(node)
  - addEdge(edge)
  - save()

### 继承树

QObject > QWidget > QFrame > QAbstractScrollArea > QGraphicsView
QObject > QGraphicsScene

### 常用方法

QGraphicsScene常用方法

```python
addRect()
addText()
addWidget(*QWidget)
```




























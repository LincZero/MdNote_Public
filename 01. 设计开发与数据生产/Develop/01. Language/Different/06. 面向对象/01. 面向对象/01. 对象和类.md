# Different

# 目录

# 对象和类

## 面向对象编程

### 基于对象、基于类

- 基于对象的面向对象语言（*object-based*）：JavaScript
- 基于  类  的面向对象语言：C++、C#、Java、Simula、Smalltalk

### 外壳类

- 用Java编写的所有代码都位于某个类的内部（包括main函数）
- 而C/C++、Python可以有代码在外面

### 对象的写法

- `C`：不是面向对象语言，没有类，但可用结构模拟

  - 举例：

    ```c
    struct inflatable {char name[20]; float volume;}
    inflatable guest = {'Ben', 1.1}
    ```

- `Python`

  - 举例：

    ```python
    class Dog():  # 定义
        def __init__(self, name, age):  # 构造函数
            self.name = name
            self.age = age
    
    my_dog = Dog('willie', 6)  # 使用
    # 句点运算符  # 访问类成员/方法
    ```

- `C++`

  - 举例：

    ```c++
    class Dog // 声明
    {
        private:
        	char name[50];
            int age;
        public:
            Dog (char *, int); // 构造函数
    }
    
    Dog::Dog(char * name1, int age1) // 实现
    {
        name = name1;
        age = age1;
    }
    
    my_dog = Dog('willie', 6); // 使用
    // 句点运算符  // 访问类成员/方法
    ```

- `Java`

  - 举例：

    ```java
    public class FirstSample
    {
        public static void main(String[] args) // 可以打psvm+tab来自动生成。公共类的main方法
        {
            System.out.println("We will not use 'Hello, World!'");
        }
    }
    ```

- `JavaScript`：js的对象概念有所不同：万物皆对象

### 区别概括

- 类的设计不同
  - `Python`：需分离类文件、客户代码
    在不需要分离的情况下，两者可写在一起
  - `C++`：需分离类的头文件、类的实现代码、客户代码
    在不需要分离的情况下，三者可写在一起
  - 区别原理：`C++`不能像`Python`那样合并类的头文件和实现代码
    - 一来：Python本身就不需要声明头文件
      （如果只是为了查看用法，python的`dir()`和`help()`方法更方便，而且`help()`的第一行一般就是类似于原型的声明）
    - 二来：若是合并，则多个文件引用该类库时，会违反单一定义原则。而Python则没有单一定义的限制
- 构造函数不同
  - `Python`：使用名为`__init__`的函数作为构造函数
  - `C++、Java`：使用与类名同名的函数作为构造函数
- 类实例的引用
  - `Python`（更直观）
    - 定义函数时：需要显示标注接受`self`变量
    - 引用实例成员时：使用`self`和句点运算符
    - 引用实例本身时：使用`self`
    - 调用函数时：不显示传递实例自身
  - `C++`
    - 定义函数时：不需要显示标注接受自身
    - 引用实例成员时：无需借助`self`
    - 引用实例本身时：需要借助`this`指针
    - 调用函数时：不显示传递实例自身，但可以通过后置类型来标明自身不被更改，如`Dog::fn(Dog dog) const`
- 公有 or 私有
  - `C`：结构成员默认值为**公有**
  - `Python`：类默认的成员方法和数据成员均**公有**
  - `C++`：类默认的成员方法和数据成员均**私有**

### 运算符重载

运算符重载

- Java没有提供运算符重载功能。程序员无法重定义+和*运算符，使其应用于BigInteger类的add和multiply运算

### 对象指针，==java的对象实例本质是指针==

不可错误地将Java的对象实例理解为C++的引用，而必须要看成C++的对象指针

- 性质上的区别

  - 在C++中没有空引用，并且引用不能被赋值

    ```java
    Date birthday;	// Java
    // 等同于
    Date* birthday;	// C++
    // 不同于
    Date& birthday;	// C++，不可空引用、不可被赋值
    // 不同于
    Date birthday;	// C++，表示的是值，传参时会传递整个对象
    ```

- 存储空间上的区别

  - 所有的Java对象都存储在堆中。当一个对象包含另一个对象变量时，这个变量依然包含着指向另一个堆对象的指针。

    如果使用一个没有初始化的指针，运行系统将会产生一个运行时错误，而不是生成一个随机的结果。同时，不必担心内存管理问题，垃圾收集器将会处理相关的事宜。

- 传参时的区别

  - 不能编写一个交换两个雇员对象的方法，因为交换的只是拷贝进方法中的两个对象实例的地址，而并不能改变外部的两个对象实例的地址
  
- this指针

  - 在Java中，this引用等价于C++的this指针




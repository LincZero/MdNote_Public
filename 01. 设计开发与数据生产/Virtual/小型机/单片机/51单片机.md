# 10天学会51单片机——郭天祥

[^B站视频]:https://www.bilibili.com/video/BV15s411E7C4?from=search&seid=8542268982391337174

还有普中的视频

# 目录

# 第一讲

## 序言

### 学习预备知识

基本数电模电知识、进制转换、逻辑门、C语言基础

### 什么是单片机

单板机

> 将CPU芯片、存储器芯片、I/O结构芯片和简单的I/O设备等
>
> 装配在一块印刷电路板上，再配上监控程序（固化ROM中）
>
> 就构成了一台单板微型计算机（简称单板机）

单板机的I/O设备简单，软件资源少，使用不方便。早期主要用于微型计算机原理的教学和简单的测控系统，现已很少使用。

单片机

> 在一片集成电路芯片上集成微处理器、存储器、I/O接口电路
>
> 从而构成了单芯片微型计算机，即单片机

Intel公司推出了MCS-51系列单片机：

> 集成了：
>
> - 8位CPU
> - 4K字节ROM（程序（只读）存储器）
> - 128字节RAM（随机存储器）
> - 4个8位并口
> - 1个全双工串行口
> - 2个15位定时器/计数器
>
> 寻址范围64K，并有控制功能较强的布尔处理器

### 单片机能做什么

[省略]

### 怎么学

实践最重要

## 预备知识

### 电平特性

数字电路只有两种电平：高和低

- 本课程为TTL电平

  高+5V，低0V

- RS232电平：计算机的串口

  高-12V，低+12V

所以计算机与单片机之间通讯时需要加电平转换芯片max232（实验板的左下角）

### 二进制、16进制

0001B -> 2 ->1H

1010B -> 10 -> AH

### 逻辑运算

与`·`，`&`

或`+`，`|`

非`头顶一条横`，`!`

异或`⊕`

### 80C51系列

80C51是MCS-51系列一个典型品种，其他产商以8051位基核开发出的CMOS工艺单片机产品统称为80C51系列

当前常用的80C51系列单片机主要产品：

- Intel的：80C31、80C51、87C51、80C32、80C52、87C52等
- ATMEL的：89C51、89C52、89C2051等
- Philips、华邦、Dallas、STC、Siemens(Infineon)等公司的许多产品

### 参数相关（一头雾水）

STC89C52RC

40C-PDIP

0721CV4336

### 引脚封装

![image-20200902073320866](51单片机.assets/image-20200902073320866.png)

#### P3第二功能各引脚功能定义

| 第二引脚 | 符号 | 功能            |
| -------: | ---: | --------------- |
|     P3.0 |  RXD | 串行口输入      |
|     P3.1 |  TXD | 串行口输出      |
|     P3.2 | INT0 | 外部中断0输入   |
|     P3.3 | INT1 | 外部中断1输入   |
|     P3.4 |   T0 | 定时器0外部输入 |
|     P3.5 |   T1 | 定时器1外部输入 |
|     P3.6 |   WR | 外部写控制      |
|     P3.7 |   RD | 外部读控制      |

### 8051内部结构

![image-20200902080257305](51单片机.assets/image-20200902080257305.png)

### 总线

总线（BUS）是计算机各部件之间传送信息的公共通道。

微机中有内部总线和外部总线两类

- 内部总线是CPU内部之间的连线
- 外部总线是CPU与其他部件之间的连线。外部总线有三种：
  - 数据总线DB（Data Bus）
  - 地址总线AB（Address Bus）
  - 控制总线CB（Control Bus）

### 单片机组成

| 元件  | 作用                                                         |
| ----- | ------------------------------------------------------------ |
| CPU   | 由运算和控制逻辑组成，同时还包括终端系统和部分外部特殊功能寄存器 |
| RAM   | 用以存放可以读写的数据。如运算的中间结果、最终结果、以及欲像是的数据 |
| ROM   | 用以存放程序、一些原始数据和表格                             |
| I/O口 | 四个8位并行I\O口，即可用作输入，也可用作输出                 |
| T/C   | 两个定时/计数器，既可以工作在定时模式，也可以工作在计数模式  |

### C51数据类型扩充定义

|类型|说明|
| ---- | ------------------ |
| sfr  | 特殊功能寄存器声明（Special Function Register） |
|sfr16|sfr的16位数据声明|
|sbit|特殊功能位声明|
|bit|位变量声明|

例：

```C
sfr SCON = 0X98;
sfr16 T2 = 0xCC;
sbit OV = PSW^2;
```

### C51包含的头文件

- reg51.h
- reg52.h
- math.h
- ctype.h
- stdio.h
- stdlib.h
- absacc.h

### 最小系统能够运行起来的必要条件

电源、晶振、复位电路

### 单片机开发板结构

<img src="51单片机.assets/image-20200902083057318.png" alt="image-20200902083057318" style="zoom:80%;" />

## 开始

### Keil软件












































# 概述

## 什么是自定义节点？

Comfy 的强大功能之一是其基于节点的方法允许您通过将以不同方式提供的节点插入在一起来开发新的工作流程。内置节点提供了广泛的功能，但您可能会发现您需要核心节点未提供的功能。自定义节点允许您实现新功能并与更广泛的社区分享。

与任何 Comfy 节点一样，自定义节点 **本质上** *接受输入，对其执行某些操作，然后生成输出*。虽然一些自定义节点执行高度复杂的任务，但许多自定义节点只做一件事。这是一个简单节点的示例，它获取图像并将其反转。

![](assets/invert_image_node.png)

## 客户端-服务器模型

Comfy 以客户端-服务器模型运行。用 Python 编写的服务器处理所有实际工作：数据处理、模型、图像扩散等。用 Javascript 编写的客户端处理用户界面。

Comfy 还可以在 API 模式下使用，其中工作流由非 Comfy 客户端（例如另一个 UI 或命令行脚本）发送到服务器。

自定义节点可以分为**四个类别**之一：

### (1) 仅服务器端

大多数自定义节点纯粹在服务器端运行，通过定义指定输入和输出类型的 Python 类，并提供可调用的函数来处理输入并生成输出。

### (2) 仅客户端

一些自定义节点提供对客户端 UI 的修改，但不添加核心功能。尽管有这个名字，他们甚至可能不会向系统添加新节点。

### (3) 独立的客户端和服务器

自定义节点可以提供额外的服务器功能和额外的（相关）UI 功能（例如处理新数据类型的新小部件）。在大多数情况下，客户端和服务器之间的通信可以由 Comfy 数据流控制来处理。

### (4) 连接的客户端和服务器

在少数情况下，UI 功能和服务器需要直接交互。

> [!warning]
> 任何需要客户端-服务器通信的节点都将不兼容通过 API 的使用。













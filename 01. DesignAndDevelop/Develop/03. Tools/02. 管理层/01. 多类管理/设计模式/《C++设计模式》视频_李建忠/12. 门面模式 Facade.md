# 《C++设计模式》视频_李建忠

# 目录

[toc]

# 门面模式 Facade

（注意：这里的Facade其实是法文而不是英文）

## 所属分类——“接口隔离” 模式

- “接口隔离” 模式
  - 在组件构建过程中，某些接口之间直接的依赖常常会带来很多问题、甚至根本无法实现。
    采用添加一层**间接（稳定）**接口，来隔离本来互相紧密关联的接口是一种常见的解决方案。
- 典型模式
  - 门面模式 Facade
  - 代理模式 Proxy
  - 适配器 Adapter
  - 中介者 Mediator

## 动机（Motivation）

### 简概

系统间耦合的复杂度

![image-20210516091142711](12.%20门面模式 Facade.assets/image-20210516091142711.png)

- 上述A方案的问题在于组件的客户和组件中各种复杂的子系统有了**过多的耦合**，随着外部客户程序和各子系统的演化，这种过多的耦合面临很多变化的挑战
- 如何**简化外部客户程序和系统间的交互接口**？如何将外部客户程序的演化和内部子系统的变化之间的依赖相互解耦？

### 应用体现

举例

- 软件是硬件和操作之间的间接
- 系统是软件和操作系统之间的间接
- 中间件、虚拟机等是系统和操作系统之间的间接

### 代码体现

无，没有特定的代码结构

而且不一定就是编程方面，是一种设计素养，可以在其他传统行业里找到影子

## 设计模式

### 模式定义

> 为子系统中的一组接口提供一个**一致（稳定）**的界面，Facade模式定义了一个高层接口，这个接使得这一子系统更加容易使用（复用）
>
> ——《设计模式》GoF

### 结构（Structure）

其中Facade是稳定的部分，下面其他方框是变化的部分，Facade是下面的隔离

![image-20210516091600725](12.%20门面模式 Facade.assets/image-20210516091600725.png)

### 要点总结

- 从客户程序的角度来看，Facade模式简化了整个组件系统的接口，对于组件内部与外部客户程序来说，达到了一种 **“解耦”** 的效果——
  内部子系统的任何变化不会影响到Facade接口的变化。
- Facade设计模式更注重从**架构**的层次去看整个系统，而不是单个类的层次。Facade很多时候更是一种架构设计模式。
- Facade设计模式并非一个集装箱，可以任意地放进任何多个对象。
  Facade模式中组件的内部应该是 “**相互耦合关系比较大**的一系列组件”，而不是一个简单的功能集合。
  （松耦合、高内聚）





















